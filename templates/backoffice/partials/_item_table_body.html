{% for item in item_list %}
    <tr id="item-row-{{ item.id }}">
        <td class="py-3 px-3">{{ item.stem|truncatechars:50 }}</td>
        <td class="py-3 px-3">{{ item.get_item_type_display }}</td>
        
        <td class="py-3 px-3">
            {% if item.in_use_count > 0 %}
                <span class="px-2 py-0.5 text-xs font-medium rounded-full bg-blue-900 text-blue-200">
                    En {{ item.in_use_count }} examen{% if item.in_use_count > 1 %}s{% endif %}
                </span>
            {% else %}
                <span class="px-2 py-0.5 text-xs font-medium rounded-full bg-gray-700 text-gray-300">
                    Sin usar
                </span>
            {% endif %}
        </td>
        <td class="py-3 px-3 space-x-3">
            <button class="text-blue-400 hover:text-blue-300"
                    hx-get="{% url 'backoffice:item_edit' item.id %}"
                    hx-target="#modal-content"
                    hx-swap="innerHTML"
                    x-on:click.prevent="showModal = true">
                Editar
            </button>
            
            <button class="text-red-400 hover:text-red-300"
                    hx-post="{% url 'backoffice:item_delete' item.pk %}"
                    hx-include="[name='csrfmiddlewaretoken']"
                    hx-target="closest tr"
                    hx-swap="outerHTML"
                    hx-confirm="¿Estás seguro de que quieres borrar esta pregunta del banco? Será eliminada de cualquier examen que la esté usando.">
                Borrar
            </button>
        </td>
    </tr>
{% empty %}
    <tr id="empty-item-row">
        <td colspan="4" class="py-4 px-3 text-center text-gray-500">
            No se encontraron preguntas con ese filtro.
        </td>
        </tr>
{% endfor %}
